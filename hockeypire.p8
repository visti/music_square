pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	no_gold = true
	music(0)
end

function _update()
	anim_player()
	move_player()
	spawn_gold()
end


function _draw()
	cls()
	map(0)
	pickup()
	bound_player()
	draw_player()
	draw_gold()	
	--print(player.moving, player.x,player.y+10)
	print(score, 5,56, 12)


	
	

end



-->8
player = {} 
player.x=60
player.y=28
player.dx=0
player.dy=0
	
player.sprites={1,2,3,4}
player.sprt=1
player.tmr = 1
player.flip = false
player.speed=2
player.moving=0
player.dir=9
player.slide = 8


function anim_player()
	player.tmr +=1
	
	if player.tmr<10 then
		player.sprt = 1
	end
	
	if player.tmr>=10 then
		player.sprt = 2
	end

	if player.tmr>=20 then
		player.sprt = 3
	end
	
	if player.tmr>=50 then
		player.sprt = 2
	end
	
	if player.tmr>=60 then
		player.tmr = 0
	end
end

function move_player()

		if player.moving > 0 then
			player.moving-=1	
		end
		
		if player.dir==0 then
				player.x-=1
		end
		
		if player.dir==1 then
			player.x+=1
		end
		
		if player.dir==2 then
			player.y-=1
		end

		if player.dir==3 then
			player.y+=1
		end				
	
	if btn(0) then
				player.dir=0
			player.x-=player.speed
			player.moving = player.slide
		end
	
	if btn(1) then
		player.dir=1
		player.x+=player.speed
		player.moving = player.slide
	end
	
	if btn(2) then
		player.dir=2
		player.y-=player.speed
		player.moving = player.slide
 end
 
	if btn(3) then
		player.dir=3
		player.y+=player.speed
		player.moving = player.slide
	end

end

function draw_player()
 spr(player.sprt, player.x,player.y)	
end	

function bound_player()
	if player.x<1 then
		player.x=1
	end
	
	if player.y<1 then
		player.y=1
	end
	
	if player.x>119 then
	 player.x =119	
	end
	
	if player.y>55 then
		player.y =55
	end
	
end

function pickup()
	if ((player.x >= gold.x) and (player.x <= gold.x+7)) then
		if ((player.y >= gold.y) and (player.y <= gold.y+7)) then
			no_gold = true
			score +=1
			sfx(0)
		end
	end
	
	
end
-->8
upper=1
left=1
lower=55
right=119

gold = {}
gold.x = 0
gold.y = 0
score = 0

function draw_gold(x,y)
			spr(17,gold.x,gold.y)
end

function spawn_gold()
	if no_gold==true then
		gold.x = rnd(119)
		gold.y = rnd(55)
		
		draw_gold(gold.x,gold.y)
		
		no_gold=false
	end
end

gold_coll = {}
	gold.ul = {gold.x,gold.y}
	gold.ll = {gold.x,gold.y+7}
	gold.ur = {gold.x+7,gold.y}
	gold.lr = {gold.x+7,gold.y+7}
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000001111000011110000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700011111100111111001111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000018118100121121001111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000011111100111111001111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700011111100111111001111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000001111000011110000111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000099aa000000000000000000555555555555555566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000099999a00000000000000000500000000000000566666666000000000000000000000000000000000000000000000000000000000000000000000000
000000009999999a0000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000999999990000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000999999990000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000999999990000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000099999900000000000000000506666666666660500000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009999000000000000000000506666666666660555555555000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660555555555000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660500000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000506666666666660566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000500000000000000566666666000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000555555555555555566666666000000000000000000000000000000000000000000000000000000000000000000000000
__map__
1436363636363636363636363636361500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2426262626262626262626262626262500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2426262626262626262626262626262500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2426262626262626262626262626262500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2426262626262626262626262626262500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2426262626262626262626262626262500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2426262626262626262626262626262500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3416161616161616161616161616163500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000325533b5533f5533d5533c553305532f55329553245531e553155530955301550095000c50010500145001a5002350030500385003b500395003650032500315002c5002a50020500105000250000500
001000100505004050040500405004050040500405007750007000000007700077000e7000d7001070000700040000300000700030000c00000000000000d00000000000000f00000000000000f0000f00010000
0010002010520105201052010520285001c5001c5000c52213521135221352213522105201052010520105201c5201c5201c5201c52010520105201352013520005200c5221f5211f5221f5221f5221c5221c522
0010000000163000001f0151f0050015300000000000000000163000001f0152b0150015300000000000000000163000001f015000000015300000001630013300163000001f0150000000153000000015300000
001000000000000000106000000010613000000000000000000000000000000000001061300000000000000000000000000000000000106130000000000000000000000000000000000010613106130000010613
__music__
02 01020304

